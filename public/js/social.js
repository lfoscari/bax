var posts=document.querySelector(".social");async function instagramPhotos(){posts.innerHTML="";const t=[];console.log("Sto prendendo le immagini da https://www.instagram.com/"+name+"/");try{const e=(await axios.get("https://www.instagram.com/"+name+"/")).data.match(/<script type="text\/javascript">window\._sharedData = (.*)<\/script>/)[1].slice(0,-1),a=JSON.parse(e).entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges.splice(0,howManyPosts);for(let e of a){const a=e.node;if(a.__typename&&"GraphImage"!==a.__typename)continue;const s=[];if(a.display_url){s.push(a.display_url);try{s.push(a.edge_media_to_caption.edges[0].node.text)}catch(t){}try{s.push("https://www.instagram.com/p/"+a.shortcode)}catch(t){}}t.push(s)}}catch(t){console.error("Unable to retrieve photos. Reason: "+t.toString())}for(i=0;i<t.length;i++)posts.innerHTML+=`\n      <div class="cell">\n        <img src="${t[i][0]}"/>\n      </div>\n    `}howManyPosts=100,name="andrea_bax",instagramPhotos();